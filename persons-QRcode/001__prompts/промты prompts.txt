для базы данных SQLite версия 3.46.1 
Путь к файлу БД "D:\persons-QRcode\_bd"
Путь к хранени фотографий "D:\persons-QRcode\_photos"
Файл БД "persons_QRcode"
таблица "persons"

Создать таблицу persons если она не существует . 
Первое поле – ID уникальное , автоинкремент. 
Далее – имя персоны, отчество, фамилия, фамилия 2.
Пол персоны, только мужской или женский.
Обращение ( например : господин , товарищ, доктор , уважаемый )
Язык ( например : русский , белорусский , английский , немецкий)  
Статус : гость , сопровождающий 
Название организации 
Должность персоны 
Мобильный телефон 1, 
мобильный телефон 2, 
мобильный телефон 3, 
мобильный телефон 4. 
E-mail
Поле с булевым значением –   e-mail подтверждён 

Также  добавить информацию контактного лица 
Далее – имя контактного лица, 
отчество контактного лица, 
фамилия контактного лица, 
фамилия 2 контактного лица.
Пол персоны, только мужской или женский.
Язык.
Должность контактного лица
Мобильный телефон 1 контактного лица, 
мобильный телефон 2 контактного лица, 
мобильный телефон 3 контактного лица, 
мобильный телефон 4 контактного лица. 
E-mail контактного лица
Поле с булевым значением –   e-mail контактного лица подтверждён 

Создан QR code и создан бейдж
Поле дата и время создания  бейджа

Поле дата и время создания – Timestamp, по умолчанию время создание записи. 
Поле модификации записи – Timestamp, автоматически изменяется при редактировании записи. 
Поле с булевым значением – активно-неактивно. 
Поле с булевым значением – разрешено - не разрешено . 

Поле с булевым значением – оповещён , выслано приглашение на  e-mail . 
Поле время оповещения на  e-mail 

Поле с булевым значением – оповещён , выслано приглашение на  WhatsUp . 
Поле время оповещения  на  WhatsUp 

Поле с булевым значением – оповещён , выслано приглашение на  Telegram 

Поле время оповещения  на  Telegram 

Поле с булевым значением – оповещён , выслано приглашение на  MAx 
Поле время оповещения  на  Max 


Поле с булевым значением – проход осуществлен. 
Поле время прохода
Поле номер гейта, ворот, проходной

Поле примечание 

Предусмотреть  простую обработку фотографий.
Фотографии гостей , хранение , вывод на печать на бейдж


----------------------------   Результ --------------------------------------------
PRAGMA foreign_keys = ON;

-- Создание таблицы persons
CREATE TABLE IF NOT EXISTS persons (
    id INTEGER PRIMARY KEY AUTOINCREMENT,

    -- Основная информация о персоне
    first_name TEXT NOT NULL,
    middle_name TEXT,
    last_name TEXT NOT NULL,
    last_name2 TEXT,
    gender TEXT CHECK(gender IN ('мужской','женский')) NOT NULL,
    salutation TEXT,
    language TEXT,
    status TEXT CHECK(status IN ('гость','сопровождающий')),

    organization TEXT,
    position TEXT,

    mobile1 TEXT,
    mobile2 TEXT,
    mobile3 TEXT,
    mobile4 TEXT,
    email TEXT,
    email_confirmed BOOLEAN DEFAULT 0,

    -- Контактное лицо
    contact_first_name TEXT,
    contact_middle_name TEXT,
    contact_last_name TEXT,
    contact_last_name2 TEXT,
    contact_gender TEXT CHECK(contact_gender IN ('мужской','женский')),
    contact_language TEXT,
    contact_position TEXT,
    contact_mobile1 TEXT,
    contact_mobile2 TEXT,
    contact_mobile3 TEXT,
    contact_mobile4 TEXT,
    contact_email TEXT,
    contact_email_confirmed BOOLEAN DEFAULT 0,

    -- QR и бейдж
    qr_code TEXT UNIQUE,
    badge_created_at DATETIME,

    -- Системные поля
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    modified_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_active BOOLEAN DEFAULT 1,
    is_allowed BOOLEAN DEFAULT 1,

    -- Уведомления
    notified_email BOOLEAN DEFAULT 0,
    notified_email_time DATETIME,
    notified_whatsapp BOOLEAN DEFAULT 0,
    notified_whatsapp_time DATETIME,
    notified_telegram BOOLEAN DEFAULT 0,
    notified_telegram_time DATETIME,
    notified_max BOOLEAN DEFAULT 0,
    notified_max_time DATETIME,

    -- Проход
    passed BOOLEAN DEFAULT 0,
    passed_time DATETIME,
    gate_number TEXT,

    -- Прочее
    note TEXT,
    photo_path TEXT
);

-- Триггер для обновления modified_at
CREATE TRIGGER IF NOT EXISTS trg_persons_modified
AFTER UPDATE ON persons
FOR EACH ROW
BEGIN
    UPDATE persons SET modified_at = CURRENT_TIMESTAMP WHERE id = OLD.id;
END;

-- ================================
-- Тестовые данные
-- ================================

INSERT INTO persons (
    first_name, middle_name, last_name, gender, salutation, language, status,
    organization, position, mobile1, email, email_confirmed,
    contact_first_name, contact_last_name, contact_gender, contact_language, contact_email,
    contact_email_confirmed, qr_code, badge_created_at, note, photo_path
) VALUES (
    'Иван', 'Петрович', 'Сидоров', 'мужской', 'господин', 'русский', 'гость',
    'ООО "Альфа"', 'директор', '+7-900-111-22-33', 'ivan.sidorov@example.com', 1,
    'Алексей', 'Иванов', 'мужской', 'русский', 'alexey.ivanov@example.com', 1,
    'QR1234567890', CURRENT_TIMESTAMP, 'VIP гость',
    'D:\\persons-QRcode\\_photos\\ivan_sidorov.jpg'
);

INSERT INTO persons (
    first_name, middle_name, last_name, gender, salutation, language, status,
    organization, position, mobile1, email,
    contact_first_name, contact_last_name, contact_gender, contact_language, contact_email,
    qr_code, badge_created_at, note, photo_path
) VALUES (
    'Мария', 'Игоревна', 'Кузнецова', 'женский', 'уважаемая', 'русский', 'сопровождающий',
    'ЗАО "Бета"', 'менеджер', '+7-901-222-33-44', 'maria.kuz@example.com',
    'Ольга', 'Смирнова', 'женский', 'русский', 'olga.smirnova@example.com',
    'QR9876543210', CURRENT_TIMESTAMP, 'Сопровождает VIP-гостя',
    'D:\\persons-QRcode\\_photos\\maria_kuznetsova.jpg'
);




